{%extends "base.html"%} {%block content%}
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
/>
<style>
    .starRadio {
        display: none;
    }
</style>
<script>
    window.onload = startupFunction;

    function startupFunction() {
    // Store the initial state of the recipe container in the browser's history
    let ratingButtons = document.querySelectorAll(".fa-star");
    let noStars = document.getElementById("noStars")
    ratingButtons.forEach((button)=>{
        button.addEventListener("click", (e) => {
            starAmount = e.target.getAttribute("value")
            starOff = e.target.classList.contains("fa-regular")
            if (!starOff){
                noStars.setAttribute("value","1")
            } else {
                noStars.setAttribute("value","0")
            }
            let removeAll = false
            for (let i=0; i < starAmount ; i++){
                if  (starOff){
                    ratingButtons[i].classList.remove("fa-regular")
                    ratingButtons[i].classList.add("fa-solid")
                } else {
                    removeAll = true;
                }
            }
            if (removeAll){
                ratingButtons.forEach((button)=>{
                    button.classList.add("fa-regular")
                    button.classList.remove("fa-solid")
                })
            }
        });
    })
    }
</script>
<button style="margin-top: 200px;">edit</button>
<ul>
<li>{{recipe.id}}</li>
<li>{{recipe.user_id}}</li>
<li>{{recipe.name}}</li>
<li>{{recipe.instructions}}</li>
<li>{{recipe.hours}}</li>
<li>{{recipe.minutes}}</li>
<li>{{recipe.calories}}</li>
<li>{{recipe.description}}</li>
<li>{{recipe.image}}</li>
<li>{{recipe.ingredients}}</li>
<li>{{recipe.category_id}}</li>
<li>{{recipe.favorited}}</li>
<li>{{recipe.category}}</li>
<li>{{recipe.difficulty}}<li>
</ul>
<form action="/review" method="POST">
<div class="review-container">
    <input type="hidden" id="noStars" name="noStars" value="1">
    
    <label>
        <input type="radio" name="star" value="1" class="starRadio">
        <i class="fa-regular fa-star" value="1"></i>
    </label>
    <label>
        <input type="radio" name="star" value="2" class="starRadio">
        <i class="fa-regular fa-star" value="2"> </i>
    </label>
    <label>
        <input type="radio" name="star" value="3" class="starRadio">
        <i class="fa-regular fa-star" value="3"> </i>
    </label>
    <label>
        <input type="radio" name="star" value="4" class="starRadio">
        <i class="fa-regular fa-star" value="4"> </i>
    </label>
    <label>
        <input type="radio" name="star" value="5" class="starRadio">
        <i class="fa-regular fa-star" value="5"> </i>
    </label>
    <input type="text" id="review" name="review">
    
    
</div>
<button type="submit">submit</button>
</form>
{%endblock%}
